<div class="container">
  <div class="text-center mt-4">
    <h3>すべてのユーザーの投稿一覧</h3>

    <% if @posts.any? %>
      <table class="table">
        <thead>
          <tr>
            <th>投稿日時</th>
            <th>ユーザー名</th>
            <th>学習項目</th>
            <th>学習時間</th>
            <th>学習内容</th>
            <th>お気に入り数</th>
            <th>コメント数</th>
          </tr>
        </thead>
        <tbody>
          <% @posts.each do |post| %>
            <tr>
              <td><%= post.created_at.in_time_zone('Tokyo').strftime("%Y-%m-%d %H:%M") %></td>
              <td><%= post.user.present? ? post.user.name : "Unknown User" %></td>
              <td><%= post.learning_item %></td>
              <td><%= post.learning_hour %> 時間</td>
              <td><%= post.learning_content %></td>
              <td><%= post.favorites.count %></td>
              <td><%= link_to "#{post.post_comments.count} コメント", admin_post_path(post.id) %></td>
              
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p>まだ投稿がありません。</p>
    <% end %>
    <%= link_to '戻る', admin_top_path, class: 'btn btn-primary' %>
  </div>
</div>
